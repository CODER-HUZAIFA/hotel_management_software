<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>User profile <%= user.fullName %></title>
</head>
<body>
    <main class="w-screen h-screen">
        <nav class="w-full h-20 bg-slate-800 flex items-center justify-between text-white z-30 shadow-md shadow-slate-500 fixed top-0">
            <div class="logo text-3xl font-medium ml-12">Hotel Management</div>
            <div class="name text-xl mr-8 flex items-center"><a href="/user/<%= user._id %>"><%= user.fullName %></a>
                <img src="../images/image.png" alt="Error" class="w-[50px] ml-4 rounded-full">
            </div>
        </nav>
        <section class="w-full h-full flex">
            <div class="hotels w-2/3 min-h-full max-h-max pt-32 px-12 ">
                <div class="w-full border-b border-b-slate-800 pb-[10px]">
                    <p class="text-4xl font-medium">Your Hotels</p>
                </div>
                <div class="w-full py-5 px-2 mt-2">
                    <% if(user.hotels.length > 0) { %>
                        <% user.hotels.forEach((e) => { %>
                            <div class="hotel w-full h-14 bg-slate-700 mb-2 rounded-md flex items-center justify-between px-2">
                                <div class="name text-white font-medium text-2xl flex items-center">
                                    <div class="w-3/5 text-ellipsis overflow-hidden whitespace-nowrap"><%= e.name %></div>
                                    <div class="px-1 ml-2 text-xs font-normal flex items-center justify-center bg-green-700 bg-opacity-45 border-2  border-green-600 rounded">Open</div>
                                </div>
                                <div class="mr-2">
                                    <a href="/user/<%= user._id %>/hotel/<%= e._id %>/dashboard"><button class="px-2 py-1 bg-sky-500 rounded text-white font-medium ">Manage</button></a>
                                </div>
                            </div>
                        <% }); %>
                        
                    <% } else { %>
                        <p class="text-lg font-medium">You not create an <span class="text-sky-500">Hotel</span></p>
                    <% } %>
                </div>
            </div>
            <div class="w-1/3 h-full pt-32 border-l border-black">
                <div class="userInfo w-full h-44 flex flex-col justify-start px-4 py-5">
                    <img src="../images/image.png" alt="Error" class="w-[60px] ml-4 rounded-full border-[1px] border-black mb-3">
                    <p class="username text-2xl font-medium"><%= user.fullName %></p>
                    <div class="flex gap-2">
                        <p class="">Your username: <span class="text-red-500 font-medium"><%= user.username %></span></p>
                    </div>
                    <div class="flex gap-2">
                        <p class="font-normal text-sm text-gray-600">Your hotels: <%= user.hotels.length %></p>
                        <a href="/user/<%= user._id %>/edit" class="font-normal text-sm hover:underline" style="color: #0000EE;">Edit</a>
                    </div>
                    <div class="flex gap-3">
                        <a href="/user/<%= user._id %>/hotel"><button class="px-2 py-1 mt-3 bg-sky-500 rounded text-white font-bold">Create Hotel</button></a>
                        <a href="/user/<%= user._id %>/logout"><button class="px-2 py-1 mt-3 bg-red-500 rounded text-white font-bold hover:bg-red-600">Logout</button></a>
                    </div>
                </div>
            </div>
        </section>
    </main>
</body>
</html>